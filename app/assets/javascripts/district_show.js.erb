var currentYear = <%= Election.current_election_year %> - 4;

$(document).on("turbolinks:load", function() {

  $(`.show-${currentYear}`).addClass('show');

  $('.year-tabs').children().on('click', function(){
    var year = $(this).text();
    $('.district-data').removeClass('show');
    $(`.show-${year}`).addClass('show');
  });

  var legend = $('.stat-graphs .morris-hover.morris-default-style').contents();
  $('.stat-graphs .area-legend').append(legend);

  $('.stat-graphs').mousemove(function(){
    legend = $('.stat-graphs .morris-hover.morris-default-style').contents();
    if (legend.length) {
      $('.stat-graphs .area-legend').html(legend)
      console.log(legend);
    }

  })

});